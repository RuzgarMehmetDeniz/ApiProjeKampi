@model List<MenuSuggestionDto>

<div class="col-md-6 col-lg-12 col-xl-6">
    <div class="card ai-menu-card">

        <div class="card-header d-flex justify-content-between align-items-center">
            <h4 class="mb-0">
                <i class="fas fa-robot me-2 text-primary"></i>AI Daily Menus
            </h4>

            <form class="card-header-form">
                <input type="text"
                       name="search"
                       class="form-control form-control-sm"
                       placeholder="Menü ara...">
            </form>
        </div>

        <div class="card-body">

            @foreach (var menu in Model)
            {
                <div class="ai-menu-item d-flex mb-4">

                    <!-- Bayrak -->
                    <div class="menu-flag">
                        <img src="https://flagsapi.com/@(menu.CountryCode)/flat/64.png"
                             alt="flag">
                    </div>

                    <div class="menu-content flex-grow-1 ms-3">

                        <div class="d-flex justify-content-between align-items-start">
                            <span class="menu-title">@menu.MenuTitle</span>

                            <!-- FIXED BADGE -->
                            <span class="badge cuisine-badge">
                                @menu.Cuisine
                            </span>
                        </div>

                        <small class="text-muted d-block mb-2">
                            Günün Menüsü
                        </small>

                        <ul class="menu-items">
                            @foreach (var item in menu.Items)
                            {
                                <li>
                                    <strong>@item.Name</strong>
                                    <span class="text-muted">
                                        – @item.Description (₺@item.Price)
                                    </span>
                                </li>
                            }
                        </ul>

                        <div class="menu-footer text-muted small mt-2">
                            <i class="fas fa-magic me-1"></i>
                            Generated by <strong>AI Chef</strong>
                            • @DateTime.Now.ToString("dd MMM yyyy")
                        </div>

                    </div>
                </div>
            }

        </div>

        <a href="javascript:void(0)"
           class="card-footer text-center small refresh-link">
            <i class="fas fa-sync-alt me-1"></i> Refresh Menus
        </a>
    </div>
</div>

<style>
    .ai-menu-card {
        border-radius: 12px;
        border: none;
        box-shadow: 0 4px 12px rgba(0,0,0,.08);
    }

    .ai-menu-item {
        padding-bottom: 10px;
        border-bottom: 1px dashed #e4e6ef;
    }

        .ai-menu-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

    .menu-flag img {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        box-shadow: 0 2px 6px rgba(0,0,0,.15);
    }

    .menu-title {
        font-weight: 600;
        font-size: 16px;
    }

    .menu-items {
        padding-left: 18px;
        margin-bottom: 0;
    }

        .menu-items li {
            margin-bottom: 4px;
            font-size: 14px;
        }

    .menu-footer {
        opacity: .85;
    }

    /* 🔥 BADGE FIX – yazı artık görünür */
    .cuisine-badge {
        background-color: #0d6efd;
        color: #fff !important;
        padding: 6px 14px;
        font-size: 12px;
        font-weight: 600;
        border-radius: 50px;
        opacity: 1 !important;
        white-space: nowrap;
    }

    .refresh-link {
        cursor: pointer;
        font-weight: 500;
        background: #f8f9fa;
        transition: .2s;
    }

        .refresh-link:hover {
            background: #eef1f5;
            text-decoration: none;
        }
</style>
